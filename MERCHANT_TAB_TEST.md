# ğŸ§ª Merchant Tab Merge - æµ‹è¯•æŒ‡å—

## âœ… å®Œæˆçš„æ›´æ”¹

### 1. **ç»Ÿä¸€çš„ Merchants æ ‡ç­¾é¡µ**
- âœ… ç§»é™¤äº†é‡å¤çš„ "Merchants (Legacy)" å’Œ "Onboarding (Phase 2)" ä¸¤ä¸ªéƒ¨åˆ†
- âœ… ç°åœ¨åªæœ‰ä¸€ä¸ªç»Ÿä¸€çš„å•†æˆ·åˆ—è¡¨
- âœ… æ‰€æœ‰å•†æˆ·ï¼ˆPhase 2 onboardedï¼‰éƒ½æ˜¾ç¤ºåœ¨åŒä¸€ä¸ªè§†å›¾ä¸­

### 2. **ç®€åŒ–çš„æ“ä½œæŒ‰é’®**
- âœ… ç§»é™¤äº† "Onboard New Merchant" æŒ‰é’®ï¼ˆä¸éœ€è¦ï¼Œå› ä¸ºæœ‰ä¸“é—¨çš„ portalï¼‰
- âœ… ä¿ç•™äº† **"+ Merchant Onboarding Portal"** æŒ‰é’® - æ‰“å¼€å®Œæ•´çš„æ³¨å†Œæµç¨‹

### 3. **å®Œæ•´çš„åŠŸèƒ½é›†æˆ**
ä¸ºæ¯ä¸ªå•†æˆ·æ·»åŠ äº†ä»¥ä¸‹æ“ä½œæŒ‰é’®ï¼š
- âœ… **Upload Docs** - ä¸Šä¼  KYB æ–‡æ¡£
- âœ… **Review KYB** - å®¡æ ¸ KYB æ–‡æ¡£
- âœ… **Details** - æŸ¥çœ‹å•†æˆ·è¯¦æƒ…
- âœ… **Remove** - åˆ é™¤å•†æˆ·ï¼ˆè½¯åˆ é™¤ï¼‰

### 4. **ä¿ç•™çš„åŸæœ‰åŠŸèƒ½**
- âœ… **Approve/Reject** æŒ‰é’®ï¼ˆä»…å¯¹ pending_verification çŠ¶æ€æ˜¾ç¤ºï¼‰
- âœ… **Resume PSP Setup** æŒ‰é’®ï¼ˆå¯¹å·²æ‰¹å‡†ä½†æœªè¿æ¥ PSP çš„å•†æˆ·æ˜¾ç¤ºï¼‰
- âœ… çŠ¶æ€ç­›é€‰æ ‡ç­¾ï¼ˆAll, Pending Verification, Approved, Rejectedï¼‰

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### **Step 1: æ£€æŸ¥å‰ç«¯æ˜¯å¦å¯åŠ¨**

```bash
# æ£€æŸ¥å‰ç«¯è¿›ç¨‹
ps aux | grep "npm run dev"

# å¦‚æœæ²¡æœ‰è¿è¡Œï¼Œå¯åŠ¨å‰ç«¯
cd simple_frontend && npm run dev
```

### **Step 2: è®¿é—® Admin Dashboard**

1. æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:5173
2. ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•
3. ç‚¹å‡» **"Merchants"** æ ‡ç­¾

### **Step 3: éªŒè¯ç•Œé¢å¸ƒå±€**

**åº”è¯¥çœ‹åˆ°:**
- âœ… é¡µé¢é¡¶éƒ¨åªæœ‰ä¸€ä¸ªæŒ‰é’®: **"+ Merchant Onboarding Portal"**
- âœ… ä¸€ä¸ªç»Ÿä¸€çš„å•†æˆ·åˆ—è¡¨ï¼ˆæ²¡æœ‰åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼‰
- âœ… ç­›é€‰æ ‡ç­¾: All | Pending Verification | Approved | Rejected

**ä¸åº”è¯¥çœ‹åˆ°:**
- âŒ "Merchant Management" ä¸‹æ–¹ä¸åº”è¯¥æœ‰ "ğŸ“‹ Merchant Onboarding (Phase 2)" å­æ ‡é¢˜
- âŒ ä¸åº”è¯¥æœ‰ "ğŸª Configured Stores (Legacy)" éƒ¨åˆ†
- âŒ ä¸åº”è¯¥æœ‰ "Onboard New Merchant" æŒ‰é’®

### **Step 4: æµ‹è¯•åŠŸèƒ½æŒ‰é’®**

å¯¹äº**æ¯ä¸ªå•†æˆ·å¡ç‰‡**ï¼ŒéªŒè¯ä»¥ä¸‹æŒ‰é’®æ˜¯å¦å­˜åœ¨ï¼š

#### **4.1 Pending Verification çŠ¶æ€çš„å•†æˆ·**
åº”è¯¥æ˜¾ç¤ºï¼š
- âœ… **Approve** æŒ‰é’®ï¼ˆç»¿è‰²ï¼Œå¸¦ âœ“ å›¾æ ‡ï¼‰
- âœ… **Reject** æŒ‰é’®ï¼ˆçº¢è‰²ï¼Œå¸¦ âœ— å›¾æ ‡ï¼‰
- âœ… **Upload Docs** æŒ‰é’®
- âœ… **Review KYB** æŒ‰é’®
- âœ… **Details** æŒ‰é’®
- âœ… **Remove** æŒ‰é’®

#### **4.2 Approved ä½†æœªè¿æ¥ PSP çš„å•†æˆ·**
åº”è¯¥æ˜¾ç¤ºï¼š
- âœ… è“è‰²æç¤ºæ¡†: "â„¹ï¸ Waiting for merchant to connect PSP"
- âœ… **Resume PSP Setup** æŒ‰é’®ï¼ˆå…¨å®½ï¼Œè“è‰²ï¼‰
- âœ… **Upload Docs** æŒ‰é’®
- âœ… **Review KYB** æŒ‰é’®
- âœ… **Details** æŒ‰é’®
- âœ… **Remove** æŒ‰é’®

#### **4.3 Approved ä¸”å·²è¿æ¥ PSP çš„å•†æˆ·**
åº”è¯¥æ˜¾ç¤ºï¼š
- âœ… PSP è¿æ¥çŠ¶æ€ï¼ˆç»¿è‰² âœ“ + PSP ç±»å‹ï¼‰
- âœ… **Upload Docs** æŒ‰é’®
- âœ… **Review KYB** æŒ‰é’®
- âœ… **Details** æŒ‰é’®
- âœ… **Remove** æŒ‰é’®

### **Step 5: æµ‹è¯•æ¯ä¸ªæŒ‰é’®çš„åŠŸèƒ½**

#### **5.1 æµ‹è¯• "Upload Docs" æŒ‰é’®**
1. ç‚¹å‡»ä»»æ„å•†æˆ·çš„ **Upload Docs** æŒ‰é’®
2. **é¢„æœŸ**: åº”è¯¥æ‰“å¼€æ–‡æ¡£ä¸Šä¼ æ¨¡æ€æ¡†
3. éªŒè¯å¯ä»¥é€‰æ‹©æ–‡ä»¶å¹¶ä¸Šä¼ 

#### **5.2 æµ‹è¯• "Review KYB" æŒ‰é’®**
1. ç‚¹å‡»ä»»æ„å•†æˆ·çš„ **Review KYB** æŒ‰é’®
2. **é¢„æœŸ**: åº”è¯¥æ‰“å¼€ KYB å®¡æ ¸æ¨¡æ€æ¡†
3. éªŒè¯æ˜¾ç¤ºå•†æˆ·ä¿¡æ¯å’Œå·²ä¸Šä¼ çš„æ–‡æ¡£

#### **5.3 æµ‹è¯• "Details" æŒ‰é’®**
1. ç‚¹å‡»ä»»æ„å•†æˆ·çš„ **Details** æŒ‰é’®
2. **é¢„æœŸ**: åº”è¯¥æ‰“å¼€å•†æˆ·è¯¦æƒ…æ¨¡æ€æ¡†
3. éªŒè¯æ˜¾ç¤ºå®Œæ•´çš„å•†æˆ·ä¿¡æ¯

#### **5.4 æµ‹è¯• "Remove" æŒ‰é’®**
1. ç‚¹å‡»ä»»æ„å•†æˆ·çš„ **Remove** æŒ‰é’®
2. **é¢„æœŸ**: åº”è¯¥å¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†
3. ç¡®è®¤åï¼Œå•†æˆ·åº”è¯¥ä»åˆ—è¡¨ä¸­æ¶ˆå¤±

#### **5.5 æµ‹è¯• "Approve" æŒ‰é’®** (ä»… pending çŠ¶æ€)
1. æ‰¾åˆ°ä¸€ä¸ª pending_verification çŠ¶æ€çš„å•†æˆ·
2. ç‚¹å‡» **Approve** æŒ‰é’®
3. **é¢„æœŸ**: 
   - å¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†
   - ç¡®è®¤åï¼Œå•†æˆ·çŠ¶æ€åº”è¯¥å˜ä¸º "approved"
   - åº”è¯¥æ˜¾ç¤º "Waiting for PSP" æç¤º

#### **5.6 æµ‹è¯• "Resume PSP Setup" æŒ‰é’®**
1. æ‰¾åˆ°ä¸€ä¸ª approved ä½†æœªè¿æ¥ PSP çš„å•†æˆ·
2. ç‚¹å‡» **Resume PSP Setup** æŒ‰é’®
3. **é¢„æœŸ**: åº”è¯¥è·³è½¬åˆ° `/merchant/onboarding` é¡µé¢ï¼Œå¹¶è‡ªåŠ¨åŠ è½½è¯¥å•†æˆ·çš„ä¿¡æ¯

#### **5.7 æµ‹è¯• "+ Merchant Onboarding Portal" æŒ‰é’®**
1. ç‚¹å‡»é¡µé¢é¡¶éƒ¨çš„ **+ Merchant Onboarding Portal** æŒ‰é’®
2. **é¢„æœŸ**: åº”è¯¥åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€ `/merchant/onboarding` é¡µé¢

### **Step 6: æµ‹è¯•ç­›é€‰åŠŸèƒ½**

1. ç‚¹å‡» **"Pending Verification"** æ ‡ç­¾
   - **é¢„æœŸ**: åªæ˜¾ç¤ºçŠ¶æ€ä¸º pending_verification çš„å•†æˆ·

2. ç‚¹å‡» **"Approved"** æ ‡ç­¾
   - **é¢„æœŸ**: åªæ˜¾ç¤ºçŠ¶æ€ä¸º approved çš„å•†æˆ·

3. ç‚¹å‡» **"Rejected"** æ ‡ç­¾
   - **é¢„æœŸ**: åªæ˜¾ç¤ºçŠ¶æ€ä¸º rejected çš„å•†æˆ·

4. ç‚¹å‡» **"All"** æ ‡ç­¾
   - **é¢„æœŸ**: æ˜¾ç¤ºæ‰€æœ‰å•†æˆ·

### **Step 7: æµ‹è¯•ç©ºçŠ¶æ€**

å¦‚æœæ²¡æœ‰å•†æˆ·æ•°æ®ï¼š
1. **é¢„æœŸ**: åº”è¯¥æ˜¾ç¤ºç©ºçŠ¶æ€æ¶ˆæ¯
2. åº”è¯¥æœ‰ä¸€ä¸ªè¾“å…¥æ¡†å’Œ "Resume PSP Setup" æŒ‰é’®
3. å¯ä»¥è¾“å…¥ merchant_id å¹¶æ¢å¤ PSP è®¾ç½®æµç¨‹

---

## ğŸ“¸ é¢„æœŸçš„ UI æˆªå›¾å‚è€ƒ

### **é¡µé¢é¡¶éƒ¨**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Merchant Management         [+ Merchant Onboarding Portal] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **ç­›é€‰æ ‡ç­¾**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ All | Pending Verification | Approved | Rejected          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **å•†æˆ·å¡ç‰‡å¸ƒå±€ (Approved + PSP Connected)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ My Store                                    [approved]    â”‚
â”‚ ID: merch_abc123                                          â”‚
â”‚                                                           â”‚
â”‚ PSP: âœ“ stripe                                            â”‚
â”‚ ğŸ•’ Created: 10/15/2025                                    â”‚
â”‚                                                           â”‚
â”‚ [Upload Docs]  [Review KYB]                              â”‚
â”‚ [Details]      [Remove]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **å•†æˆ·å¡ç‰‡å¸ƒå±€ (Pending Verification)**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ New Store                        [pending_verification]   â”‚
â”‚ ID: merch_xyz789                                          â”‚
â”‚                                                           â”‚
â”‚ PSP: âœ— Not connected                                     â”‚
â”‚ ğŸ•’ Created: 10/16/2025                                    â”‚
â”‚                                                           â”‚
â”‚ [âœ“ Approve]    [âœ— Reject]                                â”‚
â”‚ [Upload Docs]  [Review KYB]                              â”‚
â”‚ [Details]      [Remove]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… æµ‹è¯•æ¸…å•

### **è§†è§‰éªŒè¯**
- [ ] åªæœ‰ä¸€ä¸ªå•†æˆ·åˆ—è¡¨ï¼ˆæ²¡æœ‰åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼‰
- [ ] åªæœ‰ä¸€ä¸ªé¡¶éƒ¨æŒ‰é’® **"+ Merchant Onboarding Portal"**
- [ ] æ¯ä¸ªå•†æˆ·å¡ç‰‡æœ‰ 4 ä¸ªåŠŸèƒ½æŒ‰é’®ï¼ˆ2x2 ç½‘æ ¼ï¼‰
- [ ] Pending å•†æˆ·é¢å¤–æ˜¾ç¤º Approve/Reject æŒ‰é’®
- [ ] Approved æœªè¿æ¥ PSP çš„å•†æˆ·æ˜¾ç¤º "Resume PSP Setup" æŒ‰é’®

### **åŠŸèƒ½éªŒè¯**
- [ ] Upload Docs æŒ‰é’®æ‰“å¼€ä¸Šä¼ æ¨¡æ€æ¡†
- [ ] Review KYB æŒ‰é’®æ‰“å¼€å®¡æ ¸æ¨¡æ€æ¡†
- [ ] Details æŒ‰é’®æ‰“å¼€è¯¦æƒ…æ¨¡æ€æ¡†
- [ ] Remove æŒ‰é’®å¯ä»¥åˆ é™¤å•†æˆ·
- [ ] Approve æŒ‰é’®å¯ä»¥æ‰¹å‡†å•†æˆ·
- [ ] Reject æŒ‰é’®å¯ä»¥æ‹’ç»å•†æˆ·
- [ ] Resume PSP Setup æŒ‰é’®è·³è½¬åˆ°æ­£ç¡®é¡µé¢
- [ ] Merchant Onboarding Portal æŒ‰é’®æ‰“å¼€æ–°æ ‡ç­¾é¡µ

### **ç­›é€‰éªŒè¯**
- [ ] All æ ‡ç­¾æ˜¾ç¤ºæ‰€æœ‰å•†æˆ·
- [ ] Pending Verification æ ‡ç­¾åªæ˜¾ç¤º pending å•†æˆ·
- [ ] Approved æ ‡ç­¾åªæ˜¾ç¤º approved å•†æˆ·
- [ ] Rejected æ ‡ç­¾åªæ˜¾ç¤º rejected å•†æˆ·

---

## ğŸ› å·²çŸ¥é—®é¢˜

### **å¦‚æœé‡åˆ°ä»¥ä¸‹é—®é¢˜:**

1. **æŒ‰é’®æ²¡æœ‰æ˜¾ç¤º**
   - æ£€æŸ¥æ˜¯å¦ä¼ é€’äº†å›è°ƒå‡½æ•° props
   - æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

2. **æ¨¡æ€æ¡†æ²¡æœ‰æ‰“å¼€**
   - æ£€æŸ¥ `selectedMerchant` çŠ¶æ€æ˜¯å¦æ­£ç¡®è®¾ç½®
   - æ£€æŸ¥æ¨¡æ€æ¡†ç»„ä»¶çš„ `isOpen` prop

3. **Remove åŠŸèƒ½å¤±è´¥**
   - æ£€æŸ¥ merchant_id æ ¼å¼æ˜¯å¦æ­£ç¡®
   - æŸ¥çœ‹ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸï¼ˆF12 Network tabï¼‰

---

## ğŸ“ ä¸‹ä¸€æ­¥

æµ‹è¯•å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­è®¨è®º Phase 3 çš„æµ‹è¯•è®¡åˆ’ã€‚

---

**å½“å‰çŠ¶æ€**: âœ… ä»£ç å·²éƒ¨ç½²ï¼Œç­‰å¾…æµ‹è¯•
**æµ‹è¯• URL**: http://localhost:5173 (å‰ç«¯) + https://pivota-dashboard.onrender.com (åç«¯)

